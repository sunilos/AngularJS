<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular-route.js"></script>
		<script>
			var app = angular.module("myApp", ["ngRoute"]);
			app.constant(
				"org",{name: "SunilOS Open Source Learning Center", address:"President Tower"}
			); 
			app.config(function($routeProvider) {
				$routeProvider
				.when("/", {
					templateUrl : "Welcome.html"
				})
				.when("/customer", {
					templateUrl : "Customer.html",
					controller: 'customerCtl'
				})
				.when("/account", {
					templateUrl : "Account.html",
					controller: 'accountCtl'
				})
				.when("/loan/:id", {
					templateUrl : "Loan.html",
					controller: 'loanCtl'
				})
				.when("/loan/:id/:amt", {
					templateUrl : "Loan.html",
					controller: 'loanCtl'
				}).otherwise({
					 template : "<h1>Invalid URL...</h1>"
				});
			});

			//Customer controller
			var customerCB=function($scope, $location, org){
					$scope.message = "";
					$scope.form = {};
					$scope.submit= function(){
						$scope.message = "Data is submitted" + org.address ;
					}
					$scope.submitAndGo= function(){
						$location.url("account");
					}
				};
			app.controller('customerCtl',customerCB);


			//Account controller
			var accountCB=function($scope, $location){
					$scope.message = "";
					$scope.form = {};
					$scope.submit= function(){
						$scope.message = "Data is submitted"
					}
					$scope.submitAndGo= function(){
						$location.url("loan/10");
					}
				};
			app.controller('accountCtl',accountCB);

			//Loan controller
			var loanCB=function($scope, $routeParams){
					$scope.message = "";
					$scope.form = {};
					$scope.form.number = $routeParams.id;
					
					if( $routeParams.amt){
					   $scope.form.amount = parseInt($routeParams.amt);
					}
					
					$scope.submit= function(){
						$scope.message = "Data is submitted"
					}
				};
			app.controller('loanCtl',loanCB);


		</script>
	</head>
	<body ng-app="myApp">
		<div>
			<a href="#">Home</a>
			<a href="#!customer">Customer</a>
			<a href="#!account">Account</a>
			<a href="#!loan/9">Loan</a>
		</div>
		<hr>
		<div ng-view></div>
		<hr>
		<div>Copyright (c) Rays (SunilOS) Technologies</div>
	</body>
</html>